"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _easy = require("easy");
var _constants = require("../constants");
var LEFT_MOUSE_BUTTON = _easy.constants.LEFT_MOUSE_BUTTON;
function isDragging() {
    var dragging = this.hasClass("dragging");
    return dragging;
}
function startWaitingToDrag(mouseTop, mouseLeft) {
    var timeout = this.getTimeout();
    if (timeout === null) {
        timeout = setTimeout((function() {
            this.resetTimeout();
            var draggableMouseOver = this.isDraggableMouseOver(mouseTop, mouseLeft);
            if (draggableMouseOver) {
                this.startDragging(mouseTop, mouseLeft);
            }
        }).bind(this), _constants.START_DRAGGING_DELAY);
        this.updateTimeout(timeout);
    }
}
function stopWaitingToDrag() {
    var timeout = this.getTimeout();
    if (timeout !== null) {
        clearTimeout(timeout);
        this.resetTimeout();
    }
}
function startDragging(mouseTop, mouseLeft) {
    var bounds = this.getBounds(), boundsTop = bounds.getTop(), boundsLeft = bounds.getLeft(), topOffset = mouseTop - boundsTop, leftOffset = mouseLeft - boundsLeft, startMouseTop = mouseTop, startMouseLeft = mouseLeft; ///
    this.addClass("dragging");
    this.setTopOffset(topOffset);
    this.setLeftOffset(leftOffset);
    this.setStartMouseTop(startMouseTop);
    this.setStartMouseLeft(startMouseLeft);
    this.drag(mouseTop, mouseLeft);
}
function stopDragging() {
    this.removeClass("dragging");
}
function dragging(mouseTop, mouseLeft) {
    this.drag(mouseTop, mouseLeft);
}
function drag(mouseTop, mouseLeft) {
    var topOffset = this.getTopOffset(), leftOffset = this.getLeftOffset(), startMouseTop = this.getStartMouseTop(), startMouseLeft = this.getStartMouseLeft(), relativeMouseTop = mouseTop - startMouseTop, relativeMouseLeft = mouseLeft - startMouseLeft;
    var top = startMouseTop + relativeMouseTop - topOffset, left = startMouseLeft + relativeMouseLeft - leftOffset;
    top = "".concat(top, "px"); ///
    left = "".concat(left, "px"); ///
    var css = {
        top: top,
        left: left
    };
    this.css(css);
    if (this.hasOwnProperty("dragEventListeners")) {
        this.dragEventListeners.forEach(function(dragEventListener) {
            dragEventListener(relativeMouseTop, relativeMouseLeft);
        });
    }
}
function onDrag(dragHandler, element) {
    this.addDragEventListener(dragHandler, element);
}
function offDrag(dragHandler, element) {
    this.removeDragEventListener(dragHandler, element);
}
function enableDragging() {
    this.onMouseDown(this.draggableMouseDownHandler, this);
}
function disableDragging() {
    this.offMouseDown(this.draggableMouseDownHandler, this);
}
function isDraggableMouseOver(mouseTop, mouseLeft) {
    var bounds = this.getBounds(), boundsOverlappingMouse = bounds.isOverlappingMouse(mouseTop, mouseLeft), draggableMouseOver = boundsOverlappingMouse; ///
    return draggableMouseOver;
}
function draggableMouseDownHandler(event, element) {
    var button = event.button;
    _easy.window.on("blur", this.draggableMouseUpHandler, this); ///
    _easy.window.onMouseUp(this.draggableMouseUpHandler, this);
    _easy.window.onMouseMove(this.draggableMouseMoveHandler, this);
    if (button === LEFT_MOUSE_BUTTON) {
        var dragging1 = this.isDragging();
        if (!dragging1) {
            var mouseTop = mouseTopFromEvent(event), mouseLeft = mouseLeftFromEvent(event);
            this.startWaitingToDrag(mouseTop, mouseLeft);
        }
    }
}
function draggableMouseMoveHandler(event, element) {
    var mouseTop = mouseTopFromEvent(event), mouseLeft = mouseLeftFromEvent(event);
    var dragging2 = this.isDragging();
    if (dragging2) {
        this.dragging(mouseTop, mouseLeft);
    }
}
function draggableMouseUpHandler(event, element) {
    _easy.window.off("blur", this.draggableMouseUpHandler, this); ///
    _easy.window.offMouseUp(this.draggableMouseUpHandler, this);
    _easy.window.offMouseMove(this.draggableMouseMoveHandler, this);
    var dragging2 = this.isDragging();
    if (dragging2) {
        this.stopDragging();
    } else {
        this.stopWaitingToDrag();
    }
}
function addDragEventListener(dragHandler, param) {
    var element = param === void 0 ? this : param;
    if (!this.hasOwnProperty("dragEventListeners")) {
        this.dragEventListeners = [];
    }
    var dragEventListener = createDragEventListener(dragHandler, element);
    this.dragEventListeners.push(dragEventListener);
}
function removeDragEventListener(dragHandler, param) {
    var element = param === void 0 ? this : param;
    var dragEventListener = this.findDragEventListener(dragHandler, element), index = this.dragEventListeners.indexOf(dragEventListener), start = index, deleteCount = 1;
    this.dragEventListeners.splice(start, deleteCount);
    if (this.dragEventListeners.length === 0) {
        delete this.dragEventListeners;
    }
}
function createDragEventListener(dragHandler, element) {
    var dragEventListener;
    dragEventListener = function(relativeMouseTop, relativeMouseLeft) {
        dragHandler.call(element, relativeMouseTop, relativeMouseLeft);
    };
    Object.assign(dragEventListener, {
        element: element,
        dragHandler: dragHandler
    });
    return dragEventListener;
}
function findDragEventListener(dragHandler, element) {
    var eventListener = this.dragEventListeners.find(function(dragEventListener) {
        var found = dragEventListener.element === element && dragEventListener.dragHandler === dragHandler;
        if (found) {
            return true;
        }
    });
    return eventListener;
}
function resetTimeout() {
    var timeout = null;
    this.updateTimeout(timeout);
}
function getTimeout() {
    var state = this.getState(), timeout = state.timeout;
    return timeout;
}
function getTopOffset() {
    var state = this.getState(), topOffset = state.topOffset;
    return topOffset;
}
function getLeftOffset() {
    var state = this.getState(), leftOffset = state.leftOffset;
    return leftOffset;
}
function getStartMouseTop() {
    var state = this.getState(), startMouseTop = state.startMouseTop;
    return startMouseTop;
}
function getStartMouseLeft() {
    var state = this.getState(), startMouseLeft = state.startMouseLeft;
    return startMouseLeft;
}
function updateTimeout(timeout) {
    this.updateState({
        timeout: timeout
    });
}
function setTopOffset(topOffset) {
    this.updateState({
        topOffset: topOffset
    });
}
function setLeftOffset(leftOffset) {
    this.updateState({
        leftOffset: leftOffset
    });
}
function setStartMouseTop(startMouseTop) {
    this.updateState({
        startMouseTop: startMouseTop
    });
}
function setStartMouseLeft(startMouseLeft) {
    this.updateState({
        startMouseLeft: startMouseLeft
    });
}
function setInitialState() {
    var timeout = null, topOffset = null, leftOffset = null, startMouseTop = null, startMouseLeft = null;
    this.setState({
        timeout: timeout,
        topOffset: topOffset,
        leftOffset: leftOffset,
        startMouseTop: startMouseTop,
        startMouseLeft: startMouseLeft
    });
}
var _default = {
    isDragging: isDragging,
    startWaitingToDrag: startWaitingToDrag,
    stopWaitingToDrag: stopWaitingToDrag,
    startDragging: startDragging,
    stopDragging: stopDragging,
    dragging: dragging,
    drag: drag,
    onDrag: onDrag,
    offDrag: offDrag,
    enableDragging: enableDragging,
    disableDragging: disableDragging,
    isDraggableMouseOver: isDraggableMouseOver,
    draggableMouseDownHandler: draggableMouseDownHandler,
    draggableMouseMoveHandler: draggableMouseMoveHandler,
    draggableMouseUpHandler: draggableMouseUpHandler,
    addDragEventListener: addDragEventListener,
    removeDragEventListener: removeDragEventListener,
    createDragEventListener: createDragEventListener,
    findDragEventListener: findDragEventListener,
    resetTimeout: resetTimeout,
    getTimeout: getTimeout,
    getTopOffset: getTopOffset,
    getLeftOffset: getLeftOffset,
    getStartMouseTop: getStartMouseTop,
    getStartMouseLeft: getStartMouseLeft,
    updateTimeout: updateTimeout,
    setTopOffset: setTopOffset,
    setLeftOffset: setLeftOffset,
    setStartMouseTop: setStartMouseTop,
    setStartMouseLeft: setStartMouseLeft,
    setInitialState: setInitialState
};
exports.default = _default;
function mouseTopFromEvent(event) {
    var pageY = event.pageY, scrollTop = _easy.window.getScrollTop(), mouseTop = pageY + scrollTop;
    return mouseTop;
}
function mouseLeftFromEvent(event) {
    var pageX = event.pageX, scrollLeft = _easy.window.getScrollLeft(), mouseLeft = pageX + scrollLeft;
    return mouseLeft;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvZHJhZ2dhYmxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyB3aW5kb3csIGNvbnN0YW50cyB9IGZyb20gXCJlYXN5XCI7XG5cbmltcG9ydCB7IFNUQVJUX0RSQUdHSU5HX0RFTEFZIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5jb25zdCB7IExFRlRfTU9VU0VfQlVUVE9OIH0gPSBjb25zdGFudHM7XG5cbmZ1bmN0aW9uIGlzRHJhZ2dpbmcoKSB7XG4gIGNvbnN0IGRyYWdnaW5nID0gdGhpcy5oYXNDbGFzcyhcImRyYWdnaW5nXCIpO1xuXG4gIHJldHVybiBkcmFnZ2luZztcbn1cblxuZnVuY3Rpb24gc3RhcnRXYWl0aW5nVG9EcmFnKG1vdXNlVG9wLCBtb3VzZUxlZnQpIHtcbiAgbGV0IHRpbWVvdXQgPSB0aGlzLmdldFRpbWVvdXQoKTtcblxuICBpZiAodGltZW91dCA9PT0gbnVsbCkge1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucmVzZXRUaW1lb3V0KCk7XG5cbiAgICAgIGNvbnN0IGRyYWdnYWJsZU1vdXNlT3ZlciA9IHRoaXMuaXNEcmFnZ2FibGVNb3VzZU92ZXIobW91c2VUb3AsIG1vdXNlTGVmdCk7XG5cbiAgICAgIGlmIChkcmFnZ2FibGVNb3VzZU92ZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydERyYWdnaW5nKG1vdXNlVG9wLCBtb3VzZUxlZnQpO1xuICAgICAgfVxuICAgIH0sIFNUQVJUX0RSQUdHSU5HX0RFTEFZKTtcblxuICAgIHRoaXMudXBkYXRlVGltZW91dCh0aW1lb3V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wV2FpdGluZ1RvRHJhZygpIHtcbiAgY29uc3QgdGltZW91dCA9IHRoaXMuZ2V0VGltZW91dCgpO1xuXG4gIGlmICh0aW1lb3V0ICE9PSBudWxsKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXG4gICAgdGhpcy5yZXNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydERyYWdnaW5nKG1vdXNlVG9wLCBtb3VzZUxlZnQpIHtcbiAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoKSxcbiAgICAgICAgYm91bmRzVG9wID0gYm91bmRzLmdldFRvcCgpLFxuICAgICAgICBib3VuZHNMZWZ0ID0gYm91bmRzLmdldExlZnQoKSxcbiAgICAgICAgdG9wT2Zmc2V0ID0gbW91c2VUb3AgLSBib3VuZHNUb3AsXG4gICAgICAgIGxlZnRPZmZzZXQgPSBtb3VzZUxlZnQgLSBib3VuZHNMZWZ0LFxuICAgICAgICBzdGFydE1vdXNlVG9wID0gbW91c2VUb3AsIC8vL1xuICAgICAgICBzdGFydE1vdXNlTGVmdCA9IG1vdXNlTGVmdDsgLy8vXG5cbiAgdGhpcy5hZGRDbGFzcyhcImRyYWdnaW5nXCIpO1xuXG4gIHRoaXMuc2V0VG9wT2Zmc2V0KHRvcE9mZnNldCk7XG5cbiAgdGhpcy5zZXRMZWZ0T2Zmc2V0KGxlZnRPZmZzZXQpO1xuXG4gIHRoaXMuc2V0U3RhcnRNb3VzZVRvcChzdGFydE1vdXNlVG9wKTtcblxuICB0aGlzLnNldFN0YXJ0TW91c2VMZWZ0KHN0YXJ0TW91c2VMZWZ0KTtcblxuICB0aGlzLmRyYWcobW91c2VUb3AsIG1vdXNlTGVmdCk7XG59XG5cbmZ1bmN0aW9uIHN0b3BEcmFnZ2luZygpIHtcbiAgdGhpcy5yZW1vdmVDbGFzcyhcImRyYWdnaW5nXCIpO1xufVxuXG5mdW5jdGlvbiBkcmFnZ2luZyhtb3VzZVRvcCwgbW91c2VMZWZ0KSB7XG4gIHRoaXMuZHJhZyhtb3VzZVRvcCwgbW91c2VMZWZ0KTtcbn1cblxuZnVuY3Rpb24gZHJhZyhtb3VzZVRvcCwgbW91c2VMZWZ0KSB7XG4gIGNvbnN0IHRvcE9mZnNldCA9IHRoaXMuZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLmdldExlZnRPZmZzZXQoKSxcbiAgICAgICAgc3RhcnRNb3VzZVRvcCA9IHRoaXMuZ2V0U3RhcnRNb3VzZVRvcCgpLFxuICAgICAgICBzdGFydE1vdXNlTGVmdCA9IHRoaXMuZ2V0U3RhcnRNb3VzZUxlZnQoKSxcbiAgICAgICAgcmVsYXRpdmVNb3VzZVRvcCA9IG1vdXNlVG9wIC0gc3RhcnRNb3VzZVRvcCxcbiAgICAgICAgcmVsYXRpdmVNb3VzZUxlZnQgPSBtb3VzZUxlZnQgLSBzdGFydE1vdXNlTGVmdDtcblxuICBsZXQgdG9wID0gc3RhcnRNb3VzZVRvcCArIHJlbGF0aXZlTW91c2VUb3AgLSB0b3BPZmZzZXQsXG4gICAgICBsZWZ0ID0gc3RhcnRNb3VzZUxlZnQgKyByZWxhdGl2ZU1vdXNlTGVmdCAtIGxlZnRPZmZzZXQgO1xuXG4gIHRvcCA9IGAke3RvcH1weGA7IC8vL1xuICBsZWZ0ID0gYCR7bGVmdH1weGA7IC8vL1xuXG4gIGNvbnN0IGNzcyA9IHtcbiAgICB0b3AsXG4gICAgbGVmdFxuICB9O1xuXG4gIHRoaXMuY3NzKGNzcyk7XG5cbiAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoXCJkcmFnRXZlbnRMaXN0ZW5lcnNcIikpIHtcbiAgICB0aGlzLmRyYWdFdmVudExpc3RlbmVycy5mb3JFYWNoKChkcmFnRXZlbnRMaXN0ZW5lcikgPT4ge1xuICAgICAgZHJhZ0V2ZW50TGlzdGVuZXIocmVsYXRpdmVNb3VzZVRvcCwgcmVsYXRpdmVNb3VzZUxlZnQpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uRHJhZyhkcmFnSGFuZGxlciwgZWxlbWVudCkge1xuICB0aGlzLmFkZERyYWdFdmVudExpc3RlbmVyKGRyYWdIYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmRHJhZyhkcmFnSGFuZGxlciwgZWxlbWVudCkge1xuICB0aGlzLnJlbW92ZURyYWdFdmVudExpc3RlbmVyKGRyYWdIYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlRHJhZ2dpbmcoKSB7XG4gIHRoaXMub25Nb3VzZURvd24odGhpcy5kcmFnZ2FibGVNb3VzZURvd25IYW5kbGVyLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGlzYWJsZURyYWdnaW5nKCkge1xuICB0aGlzLm9mZk1vdXNlRG93bih0aGlzLmRyYWdnYWJsZU1vdXNlRG93bkhhbmRsZXIsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBpc0RyYWdnYWJsZU1vdXNlT3Zlcihtb3VzZVRvcCwgbW91c2VMZWZ0KSB7XG4gIGNvbnN0IGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKCksXG4gICAgICAgIGJvdW5kc092ZXJsYXBwaW5nTW91c2UgPSBib3VuZHMuaXNPdmVybGFwcGluZ01vdXNlKG1vdXNlVG9wLCBtb3VzZUxlZnQpLFxuICAgICAgICBkcmFnZ2FibGVNb3VzZU92ZXIgPSBib3VuZHNPdmVybGFwcGluZ01vdXNlOyAvLy9cblxuICByZXR1cm4gZHJhZ2dhYmxlTW91c2VPdmVyO1xufVxuXG5mdW5jdGlvbiBkcmFnZ2FibGVNb3VzZURvd25IYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IHsgYnV0dG9uIH0gPSBldmVudDtcblxuICB3aW5kb3cub24oXCJibHVyXCIsIHRoaXMuZHJhZ2dhYmxlTW91c2VVcEhhbmRsZXIsIHRoaXMpOyAvLy9cblxuICB3aW5kb3cub25Nb3VzZVVwKHRoaXMuZHJhZ2dhYmxlTW91c2VVcEhhbmRsZXIsIHRoaXMpO1xuXG4gIHdpbmRvdy5vbk1vdXNlTW92ZSh0aGlzLmRyYWdnYWJsZU1vdXNlTW92ZUhhbmRsZXIsIHRoaXMpO1xuXG4gIGlmIChidXR0b24gPT09IExFRlRfTU9VU0VfQlVUVE9OKSB7XG4gICAgY29uc3QgZHJhZ2dpbmcgPSB0aGlzLmlzRHJhZ2dpbmcoKTtcblxuICAgIGlmICghZHJhZ2dpbmcpIHtcbiAgICAgIGNvbnN0IG1vdXNlVG9wID0gbW91c2VUb3BGcm9tRXZlbnQoZXZlbnQpLFxuICAgICAgICAgICAgbW91c2VMZWZ0ID0gbW91c2VMZWZ0RnJvbUV2ZW50KGV2ZW50KTtcblxuICAgICAgdGhpcy5zdGFydFdhaXRpbmdUb0RyYWcobW91c2VUb3AsIG1vdXNlTGVmdCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWdnYWJsZU1vdXNlTW92ZUhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgY29uc3QgbW91c2VUb3AgPSBtb3VzZVRvcEZyb21FdmVudChldmVudCksXG4gICAgICAgIG1vdXNlTGVmdCA9IG1vdXNlTGVmdEZyb21FdmVudChldmVudCk7XG5cbiAgY29uc3QgZHJhZ2dpbmcgPSB0aGlzLmlzRHJhZ2dpbmcoKTtcblxuICBpZiAoZHJhZ2dpbmcpIHtcbiAgICB0aGlzLmRyYWdnaW5nKG1vdXNlVG9wLCBtb3VzZUxlZnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWdnYWJsZU1vdXNlVXBIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIHdpbmRvdy5vZmYoXCJibHVyXCIsIHRoaXMuZHJhZ2dhYmxlTW91c2VVcEhhbmRsZXIsIHRoaXMpOyAgLy8vXG5cbiAgd2luZG93Lm9mZk1vdXNlVXAodGhpcy5kcmFnZ2FibGVNb3VzZVVwSGFuZGxlciwgdGhpcyk7XG5cbiAgd2luZG93Lm9mZk1vdXNlTW92ZSh0aGlzLmRyYWdnYWJsZU1vdXNlTW92ZUhhbmRsZXIsIHRoaXMpO1xuXG4gIGNvbnN0IGRyYWdnaW5nID0gdGhpcy5pc0RyYWdnaW5nKCk7XG5cbiAgaWYgKGRyYWdnaW5nKSB7XG4gICAgdGhpcy5zdG9wRHJhZ2dpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0b3BXYWl0aW5nVG9EcmFnKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRHJhZ0V2ZW50TGlzdGVuZXIoZHJhZ0hhbmRsZXIsIGVsZW1lbnQgPSB0aGlzKSB7XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShcImRyYWdFdmVudExpc3RlbmVyc1wiKSkge1xuICAgIHRoaXMuZHJhZ0V2ZW50TGlzdGVuZXJzID0gW107XG4gIH1cblxuICBjb25zdCBkcmFnRXZlbnRMaXN0ZW5lciA9IGNyZWF0ZURyYWdFdmVudExpc3RlbmVyKGRyYWdIYW5kbGVyLCBlbGVtZW50KTtcblxuICB0aGlzLmRyYWdFdmVudExpc3RlbmVycy5wdXNoKGRyYWdFdmVudExpc3RlbmVyKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRHJhZ0V2ZW50TGlzdGVuZXIoZHJhZ0hhbmRsZXIsIGVsZW1lbnQgPSB0aGlzKSB7XG4gIGNvbnN0IGRyYWdFdmVudExpc3RlbmVyID0gdGhpcy5maW5kRHJhZ0V2ZW50TGlzdGVuZXIoZHJhZ0hhbmRsZXIsIGVsZW1lbnQpLFxuICAgICAgICBpbmRleCA9IHRoaXMuZHJhZ0V2ZW50TGlzdGVuZXJzLmluZGV4T2YoZHJhZ0V2ZW50TGlzdGVuZXIpLFxuICAgICAgICBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgIGRlbGV0ZUNvdW50ID0gMTtcblxuICB0aGlzLmRyYWdFdmVudExpc3RlbmVycy5zcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50KTtcblxuICBpZiAodGhpcy5kcmFnRXZlbnRMaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgZGVsZXRlIHRoaXMuZHJhZ0V2ZW50TGlzdGVuZXJzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWdFdmVudExpc3RlbmVyKGRyYWdIYW5kbGVyLCBlbGVtZW50KSB7XG4gIGxldCBkcmFnRXZlbnRMaXN0ZW5lcjtcblxuICBkcmFnRXZlbnRMaXN0ZW5lciA9IChyZWxhdGl2ZU1vdXNlVG9wLCByZWxhdGl2ZU1vdXNlTGVmdCkgPT4ge1xuICAgIGRyYWdIYW5kbGVyLmNhbGwoZWxlbWVudCwgcmVsYXRpdmVNb3VzZVRvcCwgcmVsYXRpdmVNb3VzZUxlZnQpXG4gIH07XG5cbiAgT2JqZWN0LmFzc2lnbihkcmFnRXZlbnRMaXN0ZW5lciwge1xuICAgIGVsZW1lbnQsXG4gICAgZHJhZ0hhbmRsZXJcbiAgfSk7XG5cbiAgcmV0dXJuIGRyYWdFdmVudExpc3RlbmVyO1xufVxuXG5mdW5jdGlvbiBmaW5kRHJhZ0V2ZW50TGlzdGVuZXIoZHJhZ0hhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHRoaXMuZHJhZ0V2ZW50TGlzdGVuZXJzLmZpbmQoKGRyYWdFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgY29uc3QgZm91bmQgPSAoIChkcmFnRXZlbnRMaXN0ZW5lci5lbGVtZW50ID09PSBlbGVtZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAoZHJhZ0V2ZW50TGlzdGVuZXIuZHJhZ0hhbmRsZXIgPT09IGRyYWdIYW5kbGVyKSk7XG5cbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGV2ZW50TGlzdGVuZXI7XG59XG5cbmZ1bmN0aW9uIHJlc2V0VGltZW91dCgpIHtcbiAgY29uc3QgdGltZW91dCA9IG51bGw7XG5cbiAgdGhpcy51cGRhdGVUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5mdW5jdGlvbiBnZXRUaW1lb3V0KCkge1xuICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKSxcbiAgICAgICAgeyB0aW1lb3V0IH0gPSBzdGF0ZTtcblxuICByZXR1cm4gdGltZW91dDtcbn1cblxuZnVuY3Rpb24gZ2V0VG9wT2Zmc2V0KCkge1xuICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKSxcbiAgICAgICAgeyB0b3BPZmZzZXQgfSA9IHN0YXRlO1xuXG4gIHJldHVybiB0b3BPZmZzZXQ7XG59XG5cbmZ1bmN0aW9uIGdldExlZnRPZmZzZXQoKSB7XG4gIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICB7IGxlZnRPZmZzZXQgfSA9IHN0YXRlO1xuXG4gIHJldHVybiBsZWZ0T2Zmc2V0O1xufVxuXG5mdW5jdGlvbiBnZXRTdGFydE1vdXNlVG9wKCkge1xuICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKSxcbiAgICAgICAgeyBzdGFydE1vdXNlVG9wIH0gPSBzdGF0ZTtcblxuICByZXR1cm4gc3RhcnRNb3VzZVRvcDtcbn1cblxuZnVuY3Rpb24gZ2V0U3RhcnRNb3VzZUxlZnQoKSB7XG4gIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpLFxuICAgICAgICB7IHN0YXJ0TW91c2VMZWZ0IH0gPSBzdGF0ZTtcblxuICByZXR1cm4gc3RhcnRNb3VzZUxlZnQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVRpbWVvdXQodGltZW91dCkge1xuICB0aGlzLnVwZGF0ZVN0YXRlKHtcbiAgICB0aW1lb3V0XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRUb3BPZmZzZXQodG9wT2Zmc2V0KSB7XG4gIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgIHRvcE9mZnNldFxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0TGVmdE9mZnNldChsZWZ0T2Zmc2V0KSB7XG4gIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgIGxlZnRPZmZzZXRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldFN0YXJ0TW91c2VUb3Aoc3RhcnRNb3VzZVRvcCkge1xuICB0aGlzLnVwZGF0ZVN0YXRlKHtcbiAgICBzdGFydE1vdXNlVG9wXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRTdGFydE1vdXNlTGVmdChzdGFydE1vdXNlTGVmdCkge1xuICB0aGlzLnVwZGF0ZVN0YXRlKHtcbiAgICBzdGFydE1vdXNlTGVmdFxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0SW5pdGlhbFN0YXRlKCkge1xuICBjb25zdCB0aW1lb3V0ID0gbnVsbCxcbiAgICAgICAgdG9wT2Zmc2V0ID0gbnVsbCxcbiAgICAgICAgbGVmdE9mZnNldCA9IG51bGwsXG4gICAgICAgIHN0YXJ0TW91c2VUb3AgPSBudWxsLFxuICAgICAgICBzdGFydE1vdXNlTGVmdCA9IG51bGw7XG5cbiAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgdGltZW91dCxcbiAgICB0b3BPZmZzZXQsXG4gICAgbGVmdE9mZnNldCxcbiAgICBzdGFydE1vdXNlVG9wLFxuICAgIHN0YXJ0TW91c2VMZWZ0XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzRHJhZ2dpbmcsXG4gIHN0YXJ0V2FpdGluZ1RvRHJhZyxcbiAgc3RvcFdhaXRpbmdUb0RyYWcsXG4gIHN0YXJ0RHJhZ2dpbmcsXG4gIHN0b3BEcmFnZ2luZyxcbiAgZHJhZ2dpbmcsXG4gIGRyYWcsXG4gIG9uRHJhZyxcbiAgb2ZmRHJhZyxcbiAgZW5hYmxlRHJhZ2dpbmcsXG4gIGRpc2FibGVEcmFnZ2luZyxcbiAgaXNEcmFnZ2FibGVNb3VzZU92ZXIsXG4gIGRyYWdnYWJsZU1vdXNlRG93bkhhbmRsZXIsXG4gIGRyYWdnYWJsZU1vdXNlTW92ZUhhbmRsZXIsXG4gIGRyYWdnYWJsZU1vdXNlVXBIYW5kbGVyLFxuICBhZGREcmFnRXZlbnRMaXN0ZW5lcixcbiAgcmVtb3ZlRHJhZ0V2ZW50TGlzdGVuZXIsXG4gIGNyZWF0ZURyYWdFdmVudExpc3RlbmVyLFxuICBmaW5kRHJhZ0V2ZW50TGlzdGVuZXIsXG4gIHJlc2V0VGltZW91dCxcbiAgZ2V0VGltZW91dCxcbiAgZ2V0VG9wT2Zmc2V0LFxuICBnZXRMZWZ0T2Zmc2V0LFxuICBnZXRTdGFydE1vdXNlVG9wLFxuICBnZXRTdGFydE1vdXNlTGVmdCxcbiAgdXBkYXRlVGltZW91dCxcbiAgc2V0VG9wT2Zmc2V0LFxuICBzZXRMZWZ0T2Zmc2V0LFxuICBzZXRTdGFydE1vdXNlVG9wLFxuICBzZXRTdGFydE1vdXNlTGVmdCxcbiAgc2V0SW5pdGlhbFN0YXRlXG59O1xuXG5mdW5jdGlvbiBtb3VzZVRvcEZyb21FdmVudChldmVudCkge1xuICBjb25zdCB7IHBhZ2VZIH0gPSBldmVudCxcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LmdldFNjcm9sbFRvcCgpLFxuICAgICAgICBtb3VzZVRvcCA9IHBhZ2VZICsgc2Nyb2xsVG9wO1xuXG4gIHJldHVybiBtb3VzZVRvcDtcbn1cblxuZnVuY3Rpb24gbW91c2VMZWZ0RnJvbUV2ZW50KGV2ZW50KSB7XG4gIGNvbnN0IHsgcGFnZVggfSA9IGV2ZW50LFxuICAgICAgICBzY3JvbGxMZWZ0ID0gd2luZG93LmdldFNjcm9sbExlZnQoKSxcbiAgICAgICAgbW91c2VMZWZ0ID0gcGFnZVggKyBzY3JvbGxMZWZ0O1xuXG4gIHJldHVybiBtb3VzZUxlZnQ7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsVUFBWTs7Ozs7SUFFc0IsS0FBTTtJQUVILFVBQWM7SUFFM0MsaUJBQWlCLEdBSlMsS0FBTSxXQUloQyxpQkFBaUI7U0FFaEIsVUFBVTtRQUNYLFFBQVEsUUFBUSxRQUFRLEVBQUMsUUFBVTtXQUVsQyxRQUFROztTQUdSLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxTQUFTO1FBQ3pDLE9BQU8sUUFBUSxVQUFVO1FBRXpCLE9BQU8sS0FBSyxJQUFJO1FBQ2xCLE9BQU8sR0FBRyxVQUFVO2lCQUNiLFlBQVk7Z0JBRVgsa0JBQWtCLFFBQVEsb0JBQW9CLENBQUMsUUFBUSxFQUFFLFNBQVM7Z0JBRXBFLGtCQUFrQjtxQkFDZixhQUFhLENBQUMsUUFBUSxFQUFFLFNBQVM7O3VCQXBCVCxVQUFjO2FBd0IxQyxhQUFhLENBQUMsT0FBTzs7O1NBSXJCLGlCQUFpQjtRQUNsQixPQUFPLFFBQVEsVUFBVTtRQUUzQixPQUFPLEtBQUssSUFBSTtRQUNsQixZQUFZLENBQUMsT0FBTzthQUVmLFlBQVk7OztTQUlaLGFBQWEsQ0FBQyxRQUFRLEVBQUUsU0FBUztRQUNsQyxNQUFNLFFBQVEsU0FBUyxJQUN2QixTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sSUFDekIsVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLElBQzNCLFNBQVMsR0FBRyxRQUFRLEdBQUcsU0FBUyxFQUNoQyxVQUFVLEdBQUcsU0FBUyxHQUFHLFVBQVUsRUFDbkMsYUFBYSxHQUFHLFFBQVEsRUFDeEIsY0FBYyxHQUFHLFNBQVMsQ0FBRSxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7U0FFaEMsUUFBUSxFQUFDLFFBQVU7U0FFbkIsWUFBWSxDQUFDLFNBQVM7U0FFdEIsYUFBYSxDQUFDLFVBQVU7U0FFeEIsZ0JBQWdCLENBQUMsYUFBYTtTQUU5QixpQkFBaUIsQ0FBQyxjQUFjO1NBRWhD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